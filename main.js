!function(){"use strict";const e={inputSelector:".popup__info",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__info_type_error",errorClass:"popup__error_visible"};var t=class{constructor(e,t){var s,r;r=e=>e.some((e=>!e.validity.valid)),(s="_hasInvalidInput")in this?Object.defineProperty(this,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[s]=r,this._settings=e,this._formEl=t}_setEventListeners(e,t){e.forEach((s=>{s.addEventListener("input",(()=>{this._checkInputValidity(s),this._toggleButtonState(e,t)}))}))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_toggleButtonState(e,t){this._hasInvalidInput(e)?t.disabled=!0:t.disabled=!1}_showInputError(e){e.classList.add(this._settings.inputErrorClass);const t=e.validationMessage,s=e.id,r=this._formEl.querySelector("#".concat(s,"-error"));r.textContent=t,r.classList.add(this._settings.errorClass)}_hideInputError(e){e.classList.remove(this._settings.inputErrorClass);const t=e.id,s=this._formEl.querySelector("#".concat(t,"-error"));s.textContent="",s.classList.remove(this._settings.errorClass)}enableValidator(){const e=[...this._formEl.querySelectorAll(this._settings.inputSelector)],t=this._formEl.querySelector(this._settings.submitButtonSelector);this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(e,t)}resetValidation(){const e=[...this._formEl.querySelectorAll(this._settings.inputSelector)],t=this._formEl.querySelector(this._settings.submitButtonSelector);e.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState(e,t)}};class s{constructor(e,t){let{items:s,renderer:r}=e;this._initialArray=s,this._container=document.querySelector(t),this._renderer=r}renderItems(){this._initialArray.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.append(e)}}class r{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._handleButtonClose=this._handleButtonClose.bind(this),this._handleOverlayClose=this._handleOverlayClose.bind(this),this._closeButton=this._popup.querySelector(".popup__close"),this._formList=[...this._popup.querySelectorAll(".popup__form")]}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleButtonClose(){this.close()}_handleOverlayClose(e){e.target===this._popup&&this.close()}open(){this._setEventListeners(),this._popup.classList.add("popup_open")}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keyup",this._handleEscClose),this._closeButton.removeEventListener("keyup",this._handleButtonClose),this._popup.removeEventListener("keyup",this._handleOverlayClose)}_setEventListeners(){document.addEventListener("keyup",this._handleEscClose),this._closeButton.addEventListener("mouseup",this._handleButtonClose),this._popup.addEventListener("mouseup",this._handleOverlayClose)}}class o extends r{constructor(e,t){var s,r;super(e),r=()=>{const e=this._getInputValues();this._button=this._popup.querySelector(".popup__button"),this._handleFormSubmit(e,this._button),this.close()},(s="_handleSubmitClick")in this?Object.defineProperty(this,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[s]=r,this._handleFormSubmit=t,this._formList=[...this._popup.querySelectorAll(".popup__form")],this._formEl=this._popup.querySelector(".popup__form")}_getInputValues(){const e=[...this._popup.querySelectorAll(".popup__info")],t={};return e.forEach((e=>{t[e.name]=e.value})),t}_setEventListeners(){this._formList.forEach((e=>{e.addEventListener("submit",this._handleSubmitClick)})),super._setEventListeners()}close(){super.close(),this._formEl.removeEventListener("submit",this._handleSubmitClick)}}const n=document.querySelector(".profile__edit-icon"),i=document.querySelector(".profile__add-icon"),a=document.querySelector("#popup"),l=document.querySelector(".popup_picture"),c=document.querySelector(".popup_profile-pic"),h=document.querySelector("#form-field-author"),u=document.querySelector("#form-field-picture"),d=document.querySelector("#popup-name"),_=document.querySelector("#popup-title"),p=document.querySelector("#popup-profile-pic-url"),m=document.querySelector(".profile__pic-edit"),v=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}initialize(){return Promise.all([this.getUserInfo(),this.getInitialCards()])}_handleFetchResponse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET";return fetch("".concat(this._baseUrl).concat(e),{method:t,headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}getInitialCards(){return this._handleFetchResponse("/cards")}getUserInfo(){return this._handleFetchResponse("/users/me")}editUserProfile(e){return fetch("https://around.nomoreparties.co/v1/group-12/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}addNewCard(e){return fetch("https://around.nomoreparties.co/v1/group-12/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}getCardLikeInfo(){return this._handleFetchResponse("/cards")}deleteCard(e){return this._handleFetchResponse("/cards/".concat(e),"DELETE")}addLike(e){return this._handleFetchResponse("/cards/likes/".concat(e),"PUT")}removeLike(e){return this._handleFetchResponse("/cards/likes/".concat(e),"DELETE")}editProfilePic(e){return fetch("https://around.nomoreparties.co/v1/group-12/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then((e=>e.ok?e.json():Promise.reject("Error: ".concat(e.status))))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"1384428a-b01c-46ae-afda-f222b9d7dc7d","Content-Type":"application/json"}});function S(e,t){"remove"===t?v.removeLike(e):v.addLike(e)}function f(e){const t=new class{constructor(e,t,s,r,o,n){this._imageLink=e.link,this._text=e.name,this._likes=e.likes,this._currentUserId=o,this._ownerId=e.owner._id,this._cardId=e._id,this._cardSelector=t,this._handleCardClick=s,this._handleTrashButton=r,this._handleLikeClick=n}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getCardId(){return this._cardId}_setEventListeners(){this._heartButton.addEventListener("mouseup",(e=>{this._heartButton.classList.contains("card__heart_active")?(this._handleLikeClick(this._cardId,"remove"),this._likeCount.textContent--):(this._handleLikeClick(this._cardId,"add"),this._likeCount.textContent++),this._handleLike(e.target)})),this._trashButton&&this._trashButton.addEventListener("mouseup",(()=>{this._handleTrashButton(this)})),this._cardImage.addEventListener("mouseup",(e=>{this._handleCardClick(e.target)}))}_handleLike(e){e.classList.toggle("card__heart_active")}deleteCard(){this._cardElement.remove(),this._cardElement=null}createCard(){this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__img");const e=this._cardElement.querySelector(".card__place");return this._likeCount=this._cardElement.querySelector(".card__like-count"),this._trashButton=this._cardElement.querySelector(".card__trash"),this._heartButton=this._cardElement.querySelector(".card__heart"),this._likeCount.textContent=this._likes.length,this._cardImage.alt=this._text,this._cardImage.src=this._imageLink,e.textContent=this._text,this._ownerId!==this._currentUserId&&(this._trashButton.remove(),this._trashButton=null),this._setEventListeners(),this._likes.forEach((e=>{e._id===this._currentUserId&&this._handleLike(this._heartButton)})),this._cardElement}}(e,"#card",y,g,U,S).createCard();L.addItem(t)}const E=new o(".popup_picture",(e=>{v.addNewCard(e).then((e=>{!function(e){f(e)}(e)})).catch((e=>{alert(e)}))})),C=new class extends r{constructor(e){super(e)}open(e){const t=this._popup.querySelector(".popup__picture");t.src=e.src,t.alt=e.alt,this._popup.querySelector(".popup__popup-caption").textContent=e.alt,super.open()}}("#picture-popup");function y(e){C.open(e)}const b=new class extends r{constructor(e){super(e),this._button=this._popup.querySelector(".popup__button")}setSubmit(e){this.handleFormSubmit=e}close(){super.close(),this._button.removeEventListener("mouseup",this.handleFormSubmit)}open(){super.open(),this._button.addEventListener("mouseup",this.handleFormSubmit)}}(".popup_delete");function g(e){b.setSubmit((t=>{v.deleteCard(e.getCardId()).then((()=>{e.deleteCard(),b.close()})).catch((e=>{alert(e)}))})),b.open()}let L=null;const k=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:r}=e;this._nameSlot=document.querySelector(t),this._jobSlot=document.querySelector(s),this._avatarSlot=document.querySelector(r)}getUserInfo(){return{name:this._nameSlot.textContent,about:this._jobSlot.textContent,avatar:this._avatarSlot.src}}setUserInfo(e){this._nameSlot.textContent=e.name,this._jobSlot.textContent=e.about,this._avatarSlot.alt="".concat(e.name,"'s headshot"),this._avatarSlot.src=e.avatar}setUserAvatar(e){this._avatarSlot.src=e.avatar}}({nameSelector:".profile__name",jobSelector:".profile__title",avatarSelector:".profile__pic"}),I=new o("#popup",((e,t)=>{P(t),v.editUserProfile(e).then((e=>{k.setUserInfo(e)})).catch((e=>{alert(e)}))})),q=new o(".popup_profile-pic",((e,t)=>{P(t),v.editProfilePic(inputValues).then((e=>{k.setUserAvatar(e)})).catch((e=>{alert(e)}))})),B=new t(e,a);B.enableValidator();const w=new t(e,l);w.enableValidator();const x=new t(e,c);let U;function P(e){e.textContent=e.textContent.replace("e","ing..."),console.log(e.textContent)}x.enableValidator(),i.addEventListener("mouseup",(function(){u.reset(),w.resetValidation(),E.open()})),n.addEventListener("mouseup",(function(){h.reset(),function(){const e=k.getUserInfo();d.value=e.name,_.value=e.about}(),B.resetValidation(),I.open()})),m.addEventListener("mouseup",(function(){p.value=k.getUserInfo().avatar,x.resetValidation(),q.open()})),v.initialize().then((e=>{let[t,r]=e;U=t._id,L=new s({items:r,renderer:f},".cards__container"),L.renderItems(),k.setUserInfo(t)})).catch((e=>{alert(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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M0osa0JBQ3hCZ0ksRUFBV3RHLFVBU2JhLEVBQWdCNUQsaUJBQWlCLFdBOURqQyxXQUNFaUUsRUFBZ0JvSCxRQU5sQixXQUNFLE1BQU1DLEVBQVN0QixFQUFTakYsY0FDeEJaLEVBQWlCVCxNQUFRNEgsRUFBTzdILEtBQ2hDVyxFQUFrQlYsTUFBUTRILEVBQU90RixNQUlqQ3VGLEdBQ0FULEVBQXdCekosa0JBQ3hCcUosRUFBYTNILFVBMkRmdUIsRUFBbUJ0RSxpQkFBaUIsV0FQcEMsV0FDRXFFLEVBQWdCWCxNQUFRc0csRUFBU2pGLGNBQWMyQixPQUMvQ3VFLEVBQTRCNUosa0JBQzVCdUosRUFBZ0I3SCxVQU9sQndCLEVBQ0dLLGFBQ0FVLE1BQUssSUFBbUIsSUFBakI2RCxFQUFNcUMsR0FBVyxFQUN2QnBFLEVBQWdCK0IsRUFBS3ZCLElBQ3JCd0IsRUFBYyxJQUFJOUgsRUFDaEIsQ0FDRUUsTUFBT2dLLEVBQ1AvSixTQUFVcUYsR0wxS1kscUJLOEsxQnNDLEVBQVl0SCxjQUVaa0ksRUFBU08sWUFBWXBCLE1BRXRCSSxPQUFPaEUsSUFDTmlFLE1BQU1qRSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5mb1wiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25fZGlzYWJsZWRcIixcbiAgLy8gaW5wdXQgbGluZSBlcnJvciBzdHlsZVxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2luZm9fdHlwZV9lcnJvclwiLFxuICAvLyBlcnJvciBtZXNzYWdlIGNsYXNzXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIixcbn07XG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBcIi5jYXJkc19fY29udGFpbmVyXCI7XG5leHBvcnQgY29uc3QgY2FyZFNlbGVjdG9yID0gXCIjY2FyZFwiO1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyhpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9XG4gIH1cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX2hhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+XG4gICAgaW5wdXRMaXN0LnNvbWUoKGlucHV0RWwpID0+ICFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIC8vIGNoYW5nZSB0ZWggaW5wdXQgc3R5bGUgdXBvbiBlcnJvclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIC8vIGVycm9yIG1lc3NhZ2UgY29udGVudFxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgLy8gYWNjZXNzIHRoZSBpbnB1dCBpZCB3aGljaCBpcyBzb21ldGhpbmcgbGlrZSBwb3B1cC1kZXNjcmlwdGlvblxuICAgIGNvbnN0IGlucHV0SWQgPSBpbnB1dEVsLmlkO1xuICAgIC8vIHRoZSBpZCBvZiB0aGUgc3BhbiBzbG90IGlzIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsXG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dElkfS1lcnJvcmApO1xuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgY29uc3QgaW5wdXRJZCA9IGlucHV0RWwuaWQ7XG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dElkfS1lcnJvcmApO1xuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgfVxuICBlbmFibGVWYWxpZGF0b3IoKSB7XG4gICAgY29uc3QgaW5wdXRMaXN0ID0gW1xuICAgICAgLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvciksXG4gICAgXTtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gICAgLy8gcHJldmVudCBhbGwgZm9ybXMgZnJvbSByZWZyZXNoaW5nIHRoZSBwYWdlIHVwb24gc3VibWl0XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyBmb3IgYWxsIGZvcm1zLCB3ZSBuZWVkIHRvIHNldCBldmVudCBsaXN0ZW5lcnNcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICB9XG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBbXG4gICAgICAuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSxcbiAgICBdO1xuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGFyckVsKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihhcnJFbCk7XG4gICAgfSk7XG4gIH1cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVCdXR0b25DbG9zZSA9IHRoaXMuX2hhbmRsZUJ1dHRvbkNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlID0gdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbiAgICB0aGlzLl9mb3JtTGlzdCA9IFsuLi50aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19mb3JtXCIpXTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICBfaGFuZGxlQnV0dG9uQ2xvc2UoKSB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG4gIF9oYW5kbGVPdmVybGF5Q2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpO1xuICB9XG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuXCIpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlQnV0dG9uQ2xvc2UpO1xuICAgIHRoaXMuX3BvcHVwLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2UpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vIFRocmVlIHdheXMgdG8gY2xvc2UgdGhlIHBvcHVwOlxuICAgIC8vIDEpIGhpdCBFU0Mga2V5XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICAvLyAyKSBtb3VzZXVwIG9uIHRoZSBjbG9zZSBidXR0b25cbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9oYW5kbGVCdXR0b25DbG9zZSk7XG4gICAgLy8gMykgbW91c2V1cCBvbiB0aGUgb3ZlcmxheVxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybUxpc3QgPSBbLi4udGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9fZm9ybVwiKV07XG4gICAgdGhpcy5fZm9ybUVsID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgfVxuICAvLyBjcmVhdGUgYW5kIHJldHVybiBhbiBvYmplY3QgZnJvbSBhbGwgdGhlIGlucHV0IGJveGVzJyBhbnN3ZXJzXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBbLi4udGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5mb1wiKV07XG4gICAgY29uc3QgaW5wdXRDb250ZW50ID0ge307XG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0Q29udGVudFtpbnB1dEVsLm5hbWVdID0gaW5wdXRFbC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRDb250ZW50O1xuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9mb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcbiAgICAgIGZvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdENsaWNrKTtcbiAgICB9KTtcblxuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG4gIF9oYW5kbGVTdWJtaXRDbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICAgIC8vd2FpdCB0byBiZSBwYXNzZWQgaW4gaW4gaW5kZXguanNcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGlucHV0VmFsdWVzLCB0aGlzLl9idXR0b24pO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfTtcbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXRDbGljayk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgeyBjYXJkc0NvbnRhaW5lciwgY2FyZFNlbGVjdG9yLCBzZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3JcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb25cIjtcblxuLy8gcHJvZmlsZSBpY29uc1xuY29uc3QgZWRpdFByb2ZpbGVJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWljb25cIik7XG5jb25zdCBhZGRQaWN0dXJlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWljb25cIik7XG4vLyBhdXRob3IsIGFkZCBwaWN0dXJlIGZvcm1zXG5jb25zdCBlZGl0UHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwXCIpO1xuY29uc3QgYWRkUGljdHVyZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3BpY3R1cmVcIik7XG5jb25zdCBlZGl0UHJvZmlsZVBpY0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3Byb2ZpbGUtcGljXCIpO1xuLy8gZm9ybSBmaWVsZHMgZm9yIHRoZSBhdXRob3IgZm9ybSBhbmQgdGhlIGFkZCBwaWN0dXJlIGZvcm1cbmNvbnN0IGZvcm1GaWVsZEF1dGhvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybS1maWVsZC1hdXRob3JcIik7XG5jb25zdCBmb3JtRmllbGRQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtLWZpZWxkLXBpY3R1cmVcIik7XG4vLyBpbnB1dCBmaWVsZHMgZm9yIHByb2ZpbGUgZm9ybSBwb3B1cFxuY29uc3QgaW5wdXRQcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtbmFtZVwiKTtcbmNvbnN0IGlucHV0UHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC10aXRsZVwiKTtcbi8vIHByb2ZpbGUgc2VjdGlvbiBvbiB0aGUgcGFnZVxuY29uc3QgcHJvZmlsZVBpY0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1wcm9maWxlLXBpYy11cmxcIik7XG5jb25zdCBlZGl0UHJvZmlsZVBpY0ljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpYy1lZGl0XCIpO1xuXG4vLyBpbnN0YW50aWF0ZSBBUEkgY2xhc3NcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMTM4NDQyOGEtYjAxYy00NmFlLWFmZGEtZjIyMmI5ZDdkYzdkXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gaGFuZGxlIExpa2UgQ2xpY2sgZnVuY3Rpb24gcGFzc2VkIGluIGFzIGNhbGxiYWNrIHRvIENhcmQuanNcbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkSWQsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgYXBpLnJlbW92ZUxpa2UoY2FyZElkKTtcbiAgfSBlbHNlIHtcbiAgICBhcGkuYWRkTGlrZShjYXJkSWQpO1xuICB9XG59XG5cbi8vIGFkZCBwaWN0dXJlIGZvcm0gZnVuY3Rpb25zXG5mdW5jdGlvbiByZW5kZXJDYXJkKGlucHV0VmFsdWVzKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBpbnB1dFZhbHVlcyxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZVRyYXNoQnV0dG9uLFxuICAgIGN1cnJlbnRVc2VySWQsXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICk7XG4gIGNvbnN0IGNhcmRFbCA9IGNhcmQuY3JlYXRlQ2FyZCgpO1xuICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbCk7XG59XG5mdW5jdGlvbiBoYW5kbGVQaWN0dXJlRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xuICByZW5kZXJDYXJkKGlucHV0VmFsdWVzKTtcbn1cbi8vIGFkZCBwaWN0dXJlIGZvcm0gc3VibWl0XG5jb25zdCBwbGFjZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIucG9wdXBfcGljdHVyZVwiLCAoaW5wdXRWYWx1ZXMpID0+IHtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGlucHV0VmFsdWVzKSA9PiB7XG4gICAgICBoYW5kbGVQaWN0dXJlRm9ybVN1Ym1pdChpbnB1dFZhbHVlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgYWxlcnQocmVzKTtcbiAgICB9KTtcbn0pO1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BpY3R1cmUtcG9wdXBcIik7XG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2soaW1hZ2UpIHtcbiAgaW1hZ2VQb3B1cC5vcGVuKGltYWdlKTtcbn1cblxuY29uc3QgZGVsZXRlQ2FyZENvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXCIucG9wdXBfZGVsZXRlXCIpO1xuXG4vLyB0byBpbnRlcmFjdCB3aXRoIHRoZSBDYXJkIGNsYXNzLCBvcGVuIHBvcHVwLCB0aGVuIHdhaXQgZm9yIGRlbGV0ZSB0byBjb21wbGV0ZVxuZnVuY3Rpb24gaGFuZGxlVHJhc2hCdXR0b24oY2FyZCkge1xuICBkZWxldGVDYXJkQ29uZmlybWF0aW9uLnNldFN1Ym1pdCgoYnV0dG9uKSA9PiB7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLmdldENhcmRJZCgpKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcbiAgICAgICAgZGVsZXRlQ2FyZENvbmZpcm1hdGlvbi5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgocmVzKSA9PiB7XG4gICAgICAgIGFsZXJ0KHJlcyk7XG4gICAgICB9KTtcbiAgfSk7XG4gIGRlbGV0ZUNhcmRDb25maXJtYXRpb24ub3BlbigpO1xufVxuXG4vLyBpbml0aWFsaXplIGNhcmQgU2VjdGlvbiBjbGFzcyB2YXJpYWJsZSB0byB0YWtlIGFwaSBjYWxsIHJlc3VsdCBhbmQgaW50ZXJhY3Qgd2l0aCBTZWN0aW9uLmpzXG5sZXQgY2FyZFNlY3Rpb24gPSBudWxsO1xuXG4vLyBwcm9maWxlIGZvcm0gZnVuY3Rpb25zXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0UHJvZmlsZU5hbWUudmFsdWUgPSByZXN1bHQubmFtZTtcbiAgaW5wdXRQcm9maWxlVGl0bGUudmFsdWUgPSByZXN1bHQuYWJvdXQ7XG59XG5mdW5jdGlvbiBoYW5kbGVPcGVuUHJvZmlsZUZvcm0oKSB7XG4gIGZvcm1GaWVsZEF1dGhvci5yZXNldCgpO1xuICBmaWxsUHJvZmlsZUZvcm0oKTtcbiAgYWRkUHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59XG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX3BpY1wiLFxufSk7XG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwb3B1cFwiLCAoaW5wdXRWYWx1ZXMsIGJ1dHRvbikgPT4ge1xuICByZW5kZXJMb2FkaW5nKGJ1dHRvbik7XG4gIGFwaVxuICAgIC5lZGl0VXNlclByb2ZpbGUoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGlucHV0VmFsdWVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgYWxlcnQocmVzKTtcbiAgICB9KTtcbn0pO1xuXG5jb25zdCBwcm9maWxlUGljUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIucG9wdXBfcHJvZmlsZS1waWNcIixcbiAgKGlucHV0VmFsdWUsIGJ1dHRvbikgPT4ge1xuICAgIHJlbmRlckxvYWRpbmcoYnV0dG9uKTtcbiAgICBhcGlcbiAgICAgIC5lZGl0UHJvZmlsZVBpYyhpbnB1dFZhbHVlcylcbiAgICAgIC50aGVuKChpbnB1dFZhbHVlcykgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGlucHV0VmFsdWVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKHJlcykgPT4ge1xuICAgICAgICBhbGVydChyZXMpO1xuICAgICAgfSk7XG4gIH1cbik7XG5cbi8vIHZhbGlkYXRvcnNcbmNvbnN0IGFkZFByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGVkaXRQcm9maWxlRm9ybSk7XG5hZGRQcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0b3IoKTtcbmNvbnN0IGFkZFBpY3R1cmVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGFkZFBpY3R1cmVGb3JtKTtcbmFkZFBpY3R1cmVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRvcigpO1xuY29uc3QgZWRpdFByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHNldHRpbmdzLFxuICBlZGl0UHJvZmlsZVBpY0Zvcm1cbik7XG5lZGl0UHJvZmlsZVBpY0Zvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdG9yKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZU9wZW5BZGRQaWN0dXJlRm9ybSgpIHtcbiAgZm9ybUZpZWxkUGljdHVyZS5yZXNldCgpO1xuXG4gIGFkZFBpY3R1cmVGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBwbGFjZVBvcHVwLm9wZW4oKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3BlbkVkaXRQcm9maWxlUGljRm9ybSgpIHtcbiAgcHJvZmlsZVBpY0lucHV0LnZhbHVlID0gdXNlckluZm8uZ2V0VXNlckluZm8oKS5hdmF0YXI7XG4gIGVkaXRQcm9maWxlUGljRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZVBpY1BvcHVwLm9wZW4oKTtcbn1cbmFkZFBpY3R1cmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGhhbmRsZU9wZW5BZGRQaWN0dXJlRm9ybSk7XG5lZGl0UHJvZmlsZUljb24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlT3BlblByb2ZpbGVGb3JtKTtcbmVkaXRQcm9maWxlUGljSWNvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVPcGVuRWRpdFByb2ZpbGVQaWNGb3JtKTtcblxubGV0IGN1cnJlbnRVc2VySWQ7XG5hcGlcbiAgLmluaXRpYWxpemUoKVxuICAudGhlbigoW3VzZXIsIGNhcmRzXSkgPT4ge1xuICAgIGN1cnJlbnRVc2VySWQgPSB1c2VyLl9pZDtcbiAgICBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogY2FyZHMsXG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxuICAgICAgfSxcbiAgICAgIGNhcmRzQ29udGFpbmVyXG4gICAgKTtcbiAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlcik7XG4gIH0pXG4gIC5jYXRjaCgocmVzKSA9PiB7XG4gICAgYWxlcnQocmVzKTtcbiAgfSk7XG5cbmZ1bmN0aW9uIHJlbmRlckxvYWRpbmcoYnV0dG9uKSB7XG4gIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1dHRvbi50ZXh0Q29udGVudC5yZXBsYWNlKFwiZVwiLCBcImluZy4uLlwiKTtcbiAgY29uc29sZS5sb2coYnV0dG9uLnRleHRDb250ZW50KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0VXNlckluZm8oKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pO1xuICB9XG4gIF9oYW5kbGVGZXRjaFJlc3BvbnNlKHBhdGgsIG1ldGhvZFVzZWQgPSBcIkdFVFwiKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9JHtwYXRofWAsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kVXNlZCxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2hSZXNwb25zZShcIi9jYXJkc1wiKTtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2hSZXNwb25zZShcIi91c2Vycy9tZVwiKTtcbiAgfVxuICBlZGl0VXNlclByb2ZpbGUoaW5wdXRWYWx1ZXMpIHtcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogaW5wdXRWYWx1ZXMubmFtZSxcbiAgICAgICAgYWJvdXQ6IGlucHV0VmFsdWVzLmFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpIHtcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyL2NhcmRzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBpbnB1dFZhbHVlcy5uYW1lLFxuICAgICAgICBsaW5rOiBpbnB1dFZhbHVlcy5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGdldENhcmRMaWtlSW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2hSZXNwb25zZShcIi9jYXJkc1wiKTtcbiAgfVxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVGZXRjaFJlc3BvbnNlKGAvY2FyZHMvJHtjYXJkSWR9YCwgXCJERUxFVEVcIik7XG4gIH1cblxuICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9oYW5kbGVGZXRjaFJlc3BvbnNlKGAvY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwgXCJQVVRcIik7XG4gIH1cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5faGFuZGxlRmV0Y2hSZXNwb25zZShgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIFwiREVMRVRFXCIpO1xuICB9XG4gIGVkaXRQcm9maWxlUGljKGF2YXRhckxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMi91c2Vycy9tZS9hdmF0YXJgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGF2YXRhcjogYXZhdGFyTGluay5hdmF0YXIsXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgICkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgY2FyZERhdGEsXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVUcmFzaEJ1dHRvbixcbiAgICBjdXJyZW50VXNlcklkLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9pbWFnZUxpbmsgPSBjYXJkRGF0YS5saW5rO1xuICAgIHRoaXMuX3RleHQgPSBjYXJkRGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpa2VzID0gY2FyZERhdGEubGlrZXM7XG4gICAgdGhpcy5fY3VycmVudFVzZXJJZCA9IGN1cnJlbnRVc2VySWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGNhcmREYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkRGF0YS5faWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVUcmFzaEJ1dHRvbiA9IGhhbmRsZVRyYXNoQnV0dG9uO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cbiAgZ2V0Q2FyZElkKCkge1xuICAgIHJldHVybiB0aGlzLl9jYXJkSWQ7XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2hlYXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIChldnQpID0+IHtcbiAgICAgIGlmICh0aGlzLl9oZWFydEJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19oZWFydF9hY3RpdmVcIikpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2NhcmRJZCwgXCJyZW1vdmVcIik7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudC0tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2NhcmRJZCwgXCJhZGRcIik7XG4gICAgICAgIHRoaXMuX2xpa2VDb3VudC50ZXh0Q29udGVudCsrO1xuICAgICAgfVxuICAgICAgdGhpcy5faGFuZGxlTGlrZShldnQudGFyZ2V0KTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5fdHJhc2hCdXR0b24pIHtcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlVHJhc2hCdXR0b24odGhpcyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGV2dCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKGV2dC50YXJnZXQpO1xuICAgIH0pO1xuICB9XG4gIF9oYW5kbGVMaWtlKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19oZWFydF9hY3RpdmVcIik7XG4gIH1cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWdcIik7XG4gICAgY29uc3QgY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19wbGFjZVwiKTtcbiAgICB0aGlzLl9saWtlQ291bnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIik7XG4gICAgdGhpcy5fdHJhc2hCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoXCIpO1xuICAgIHRoaXMuX2hlYXJ0QnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19oZWFydFwiKTtcbiAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX3RleHQ7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlTGluaztcbiAgICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xuXG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX2N1cnJlbnRVc2VySWQpIHtcbiAgICAgIHRoaXMuX3RyYXNoQnV0dG9uLnJlbW92ZSgpO1xuICAgICAgdGhpcy5fdHJhc2hCdXR0b24gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCgodXNlcikgPT4ge1xuICAgICAgaWYgKHVzZXIuX2lkID09PSB0aGlzLl9jdXJyZW50VXNlcklkKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UodGhpcy5faGVhcnRCdXR0b24pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICB9XG4gIG9wZW4oaW1hZ2UpIHtcbiAgICBjb25zdCBpbWFnZUVsID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcGljdHVyZVwiKTtcbiAgICBpbWFnZUVsLnNyYyA9IGltYWdlLnNyYztcbiAgICBpbWFnZUVsLmFsdCA9IGltYWdlLmFsdDtcbiAgICBjb25zdCBjYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fcG9wdXAtY2FwdGlvblwiKTtcbiAgICBjYXB0aW9uLnRleHRDb250ZW50ID0gaW1hZ2UuYWx0O1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2J1dHRvblwiKTtcbiAgfVxuXG4gIHNldFN1Ym1pdChoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgdGhpcy5oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICAvL3dhaXQgdG8gYmUgcGFzc2VkIGluIGluIGluZGV4LmpzXG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9idXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5oYW5kbGVGb3JtU3VibWl0KTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5oYW5kbGVGb3JtU3VibWl0KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lU2xvdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2JTbG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyU2xvdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG4gIC8vIHRvIHBvcHVsYXRlIGZvcm0gZmllbGRzIGFmdGVyIHBvcHVwIG9wZW5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVTbG90LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2pvYlNsb3QudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX2F2YXRhclNsb3Quc3JjLFxuICAgIH07XG4gIH1cbiAgLy8gdXBvbiBmb3JtIHN1Ym1pc3Npb25cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX25hbWVTbG90LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2pvYlNsb3QudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuX2F2YXRhclNsb3QuYWx0ID0gYCR7ZGF0YS5uYW1lfSdzIGhlYWRzaG90YDtcbiAgICB0aGlzLl9hdmF0YXJTbG90LnNyYyA9IGRhdGEuYXZhdGFyO1xuICB9XG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xuICAgIHRoaXMuX2F2YXRhclNsb3Quc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiY29uc3RydWN0b3IiLCJmb3JtRWwiLCJpbnB1dExpc3QiLCJzb21lIiwiaW5wdXRFbCIsInZhbGlkaXR5IiwidmFsaWQiLCJ0aGlzIiwiX3NldHRpbmdzIiwiX2Zvcm1FbCIsIl9zZXRFdmVudExpc3RlbmVycyIsImJ1dHRvbkVsZW1lbnQiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0SWQiLCJpZCIsImVycm9yRWwiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJyZW1vdmUiLCJlbmFibGVWYWxpZGF0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJyZXNldFZhbGlkYXRpb24iLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9jb250YWluZXIiLCJkb2N1bWVudCIsIl9yZW5kZXJlciIsInJlbmRlckl0ZW1zIiwiYXJyRWwiLCJhZGRJdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlQnV0dG9uQ2xvc2UiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwiX2Nsb3NlQnV0dG9uIiwiX2Zvcm1MaXN0Iiwia2V5IiwiY2xvc2UiLCJ0YXJnZXQiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJpbnB1dFZhbHVlcyIsIl9nZXRJbnB1dFZhbHVlcyIsIl9idXR0b24iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsImlucHV0Q29udGVudCIsIm5hbWUiLCJ2YWx1ZSIsIl9oYW5kbGVTdWJtaXRDbGljayIsImVkaXRQcm9maWxlSWNvbiIsImFkZFBpY3R1cmVJY29uIiwiZWRpdFByb2ZpbGVGb3JtIiwiYWRkUGljdHVyZUZvcm0iLCJlZGl0UHJvZmlsZVBpY0Zvcm0iLCJmb3JtRmllbGRBdXRob3IiLCJmb3JtRmllbGRQaWN0dXJlIiwiaW5wdXRQcm9maWxlTmFtZSIsImlucHV0UHJvZmlsZVRpdGxlIiwicHJvZmlsZVBpY0lucHV0IiwiZWRpdFByb2ZpbGVQaWNJY29uIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiaW5pdGlhbGl6ZSIsIlByb21pc2UiLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsIl9oYW5kbGVGZXRjaFJlc3BvbnNlIiwicGF0aCIsIm1ldGhvZFVzZWQiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJlZGl0VXNlclByb2ZpbGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYWRkTmV3Q2FyZCIsImxpbmsiLCJnZXRDYXJkTGlrZUluZm8iLCJkZWxldGVDYXJkIiwiY2FyZElkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJlZGl0UHJvZmlsZVBpYyIsImF2YXRhckxpbmsiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiaGFuZGxlTGlrZUNsaWNrIiwiYWN0aW9uIiwicmVuZGVyQ2FyZCIsImNhcmRFbCIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlVHJhc2hCdXR0b24iLCJjdXJyZW50VXNlcklkIiwiX2ltYWdlTGluayIsIl90ZXh0IiwiX2xpa2VzIiwibGlrZXMiLCJfY3VycmVudFVzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfY2FyZElkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlVHJhc2hCdXR0b24iLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsImdldENhcmRJZCIsIl9oZWFydEJ1dHRvbiIsImNvbnRhaW5zIiwiX2xpa2VDb3VudCIsIl9oYW5kbGVMaWtlIiwiX3RyYXNoQnV0dG9uIiwiX2NhcmRJbWFnZSIsInRvZ2dsZSIsIl9jYXJkRWxlbWVudCIsImNyZWF0ZUNhcmQiLCJjYXJkVGl0bGUiLCJsZW5ndGgiLCJhbHQiLCJzcmMiLCJ1c2VyIiwiY2FyZFNlY3Rpb24iLCJwbGFjZVBvcHVwIiwiaGFuZGxlUGljdHVyZUZvcm1TdWJtaXQiLCJjYXRjaCIsImFsZXJ0IiwiaW1hZ2VQb3B1cCIsImltYWdlIiwiaW1hZ2VFbCIsImRlbGV0ZUNhcmRDb25maXJtYXRpb24iLCJzZXRTdWJtaXQiLCJjYXJkIiwiYnV0dG9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVTbG90IiwiX2pvYlNsb3QiLCJfYXZhdGFyU2xvdCIsInNldFVzZXJJbmZvIiwiZGF0YSIsInNldFVzZXJBdmF0YXIiLCJwcm9maWxlUG9wdXAiLCJyZW5kZXJMb2FkaW5nIiwicHJvZmlsZVBpY1BvcHVwIiwiaW5wdXRWYWx1ZSIsImFkZFByb2ZpbGVGb3JtVmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsImFkZFBpY3R1cmVGb3JtVmFsaWRhdG9yIiwiZWRpdFByb2ZpbGVQaWNGb3JtVmFsaWRhdG9yIiwicmVwbGFjZSIsImNvbnNvbGUiLCJsb2ciLCJyZXNldCIsInJlc3VsdCIsImZpbGxQcm9maWxlRm9ybSIsImNhcmRzIl0sInNvdXJjZVJvb3QiOiIifQ==